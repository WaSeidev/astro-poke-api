---
import { Image } from 'astro:assets'
interface Props {
  title: string
  href: string
}

const { href, title } = Astro.props
const response = await fetch(href)
const data = await response.json()
---

<article class='flex rounded-lg border bg-gray-200 shadow-lg hover:bg-gray-300'>
  <a class='flex w-full flex-col p-4' href={`/pokemon/${title}`}>
    <div>
      <h2 class='text-xl font-bold'>
        {title}
      </h2>
    </div>
    <div class='flex flex-row gap-4 p-4'>
      <div
        class='flex h-16 w-16 items-center justify-center rounded-full bg-gray-300'
      >
        <Image
          src={data.sprites.front_default}
          alt={title}
          width={50}
          height={50}
        />
      </div>
      <div>
        <p>Peso: {data.weight}</p>
        <p>Altura: {data.height}</p>
      </div>
    </div>
    <div class='flex w-full justify-center'>
      <ul class='flex flex-row gap-2'>
        {
          data.types.map(({ type }) => (
            <li class='rounded-lg bg-gray-100 px-2 py-1 text-sm text-gray-800'>
              {type.name}
            </li>
          ))
        }
      </ul>
    </div>
  </a>
</article>
