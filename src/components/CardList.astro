---
import Card from './Card.astro'

const response = await fetch('https://pokeapi.co/api/v2/pokemon')

const data = await response.json()
---

<div class='grid grid-cols-1 gap-2 p-2 sm:grid-cols-3 lg:grid-cols-4'>
  {data.results.map(({ url, name }) => <Card href={url} title={name} />)}
  {
    data.previous && (
      <a
        href={data.previous}
        class='flex w-full flex-col items-center justify-center rounded bg-gray-100 p-4 text-gray-900 dark:bg-gray-800 dark:text-gray-100'
      >
        &larr;
      </a>
    )
  }
  {
    data.next && (
      <a
        href={data.next}
        class='flex w-full flex-col items-center justify-center rounded bg-gray-100 p-4 text-gray-900 dark:bg-gray-800 dark:text-gray-100'
      >
        &rarr;
      </a>
    )
  }
</div>
